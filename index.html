<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <title>Data Blood</title>
        <link rel="stylesheet" href="css/data-blood.css" />
    </head>
    <body>
        <div class="scene">
            <img class="glow" src="assets/rose.png" />
            <div class="background"><img class="wall" src="assets/10wallsfullnoreflexsorry0001.png"/></div>
            <div class="layers">
                <img class="funghi-table" id="funghi-table" src="assets/cropped/3fungitable0001.png" />
                <img class="heart-table" id="heart-table" src="assets/cropped/8hearttableandtv0001.png" />
                <img class="flower-table" id="flower-table" src="assets/cropped/7flowertable0001.png" />
                <img class="ipad-table" id="ipad-table" src="assets/cropped/9ipadtable0001.png" />
                <!-- <div id="id"><video class="tv" src="assets/Datablood-RoomVid.mp4" autoplay loop controls></video></div> -->
                <img class="arch-right" id="arch-right" src="assets/cropped/4archright0001.png" />
                <img class="arch-left" id="arch-left" src="assets/cropped/6archleft0001.png" />
                <img class="plant-table" id="plant-table" src="assets/cropped/5planttable0001.png" />
            </div>
        </div>
        <div class="manifesto">
            <div id="container">
                <!-- </div> -->
                <!-- The data in our blood is calling -->
                <!-- <div id="container2"></div> -->
                <!-- One foot in cyberspace -->
                <!-- <div id="container3"></div> -->
                <!-- One foot in the wild -->
            </div>
            <!-- <p class="manifesto4">We prioritise the primal</p>
            <p class="manifesto5">Recognise the sacred</p>
            <p class="manifesto6">Both goddess and cyborg</p>
            <p class="manifesto7">We heal ourselves</p>
            <p class="manifesto8"
                >Reach back to the soil, resist domination<br />
                We won’t be sanitised nor silenced.</p
            > -->
        </div>

        <script src="js/lib/jquery-3.4.1.min.js"></script>
        <script src="js/data-blood.js"></script>

        <script src="js/lib/threejs/build/three.js"></script>
        <script src="js/lib/threejs/TrackballControls.js"></script>
        <script src="js/lib/threejs/OrbitControls.js"></script>
        <script>
            var camera, scene, renderer

            init()
            animate()

            function init() {
                var container = document.getElementById("container")

                camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000)
                camera.position.set(0, 0, 1000)

                scene = new THREE.Scene()
                renderer = new THREE.WebGLRenderer({ alpha: true })
                renderer.setPixelRatio(2)
                renderer.setSize(window.innerWidth, window.innerHeight)
                renderer.setClearColor(0x000000, 0)

                container.appendChild(renderer.domElement)

                var loader = new THREE.FontLoader()
                loader.load("/assets/fonts/Accedent_Regular.json", function(font) {
                    var xMid, text, text2

                    var color = 0x000000
                    var matDark = new THREE.LineBasicMaterial({
                        color: color,
                        side: THREE.DoubleSide
                    })

                    var message1 = "The data in our blood is calling"
                    var shapes1 = font.generateShapes(message1, 20)
                    var geometry1 = new THREE.ShapeBufferGeometry(shapes1)
                    geometry1.computeBoundingBox()
                    xMid = -0.514 * (geometry1.boundingBox.max.x - geometry1.boundingBox.min.x)
                    geometry1.translate(xMid, 0, 0)

                    text1 = new THREE.Mesh(geometry1, matDark)
                    scene.add(text1)
                    text1.position.set(0, 140, 0)
                    text1.visible = false
                    document.getElementById("funghi-table").addEventListener("click", function() {
                        text1.visible = !text1.visible
                    })

                    var message2 = "One foot in cyberspace"
                    var shapes2 = font.generateShapes(message2, 20)
                    var geometry2 = new THREE.ShapeBufferGeometry(shapes2)
                    geometry2.computeBoundingBox()
                    xMid = -0.514 * (geometry2.boundingBox.max.x - geometry2.boundingBox.min.x)
                    geometry2.translate(xMid, 0, 0)
                    text2 = new THREE.Mesh(geometry2, matDark)
                    scene.add(text2)
                    text2.position.set(0, 100, 0)
                    text2.visible = false
                    document.getElementById("heart-table").addEventListener("click", function() {
                        text2.visible = !text2.visible
                    })

                    var message3 = "We prioritise the primal"
                    var shapes3 = font.generateShapes(message3, 20)
                    var geometry3 = new THREE.ShapeBufferGeometry(shapes3)
                    geometry3.computeBoundingBox()
                    xMid = -0.514 * (geometry3.boundingBox.max.x - geometry3.boundingBox.min.x)
                    geometry3.translate(xMid, 0, 0)
                    text3 = new THREE.Mesh(geometry3, matDark)
                    scene.add(text3)
                    text3.position.set(0, 60, 0)
                    text3.visible = false
                    document.getElementById("flower-table").addEventListener("click", function() {
                        text3.visible = !text3.visible
                    })

                    var message4 = "Recognise the sacred"
                    var shapes4 = font.generateShapes(message4, 20)
                    var geometry4 = new THREE.ShapeBufferGeometry(shapes4)
                    geometry4.computeBoundingBox()
                    xMid = -0.514 * (geometry4.boundingBox.max.x - geometry4.boundingBox.min.x)
                    geometry4.translate(xMid, 0, 0)
                    text4 = new THREE.Mesh(geometry4, matDark)
                    scene.add(text4)
                    text4.position.set(0, 20, 0)
                    text4.visible = false
                    document.getElementById("ipad-table").addEventListener("click", function() {
                        text4.visible = !text4.visible
                    })

                    // var message5 = "Both goddess and cyborg"
                    // var shapes5 = font.generateShapes(message5, 20)
                    // var geometry5 = new THREE.ShapeBufferGeometry(shapes5)
                    // geometry5.computeBoundingBox()
                    // xMid = -0.514 * (geometry5.boundingBox.max.x - geometry5.boundingBox.min.x)
                    // geometry5.translate(xMid, 0, 0)
                    // text5 = new THREE.Mesh(geometry5, matDark)
                    // scene.add(text5)
                    // text5.position.set(0, -20, 0)
                    // text5.visible = false
                    // document.getElementById("tv").addEventListener("click", function() {
                    //     text5.visible = !text5.visible
                    // })

                    var message6 = "We heal ourselves"
                    var shapes6 = font.generateShapes(message6, 20)
                    var geometry6 = new THREE.ShapeBufferGeometry(shapes6)
                    geometry6.computeBoundingBox()
                    xMid = -0.514 * (geometry6.boundingBox.max.x - geometry6.boundingBox.min.x)
                    geometry6.translate(xMid, 0, 0)
                    text6 = new THREE.Mesh(geometry6, matDark)
                    scene.add(text6)
                    text6.position.set(0, -60, 0)
                    text6.visible = false
                    document.getElementById("arch-right").addEventListener("click", function() {
                        text6.visible = !text6.visible
                    })

                    var message7 = "Reach back to the soil, resist domination"
                    var shapes7 = font.generateShapes(message7, 20)
                    var geometry7 = new THREE.ShapeBufferGeometry(shapes7)
                    geometry7.computeBoundingBox()
                    xMid = -0.514 * (geometry7.boundingBox.max.x - geometry7.boundingBox.min.x)
                    geometry7.translate(xMid, 0, 0)
                    text7 = new THREE.Mesh(geometry7, matDark)
                    scene.add(text7)
                    text7.position.set(0, -100, 0)
                    text7.visible = false
                    document.getElementById("arch-left").addEventListener("click", function() {
                        text7.visible = !text7.visible
                    })

                    var message8 = "We won’t be sanitised nor silenced."
                    var shapes8 = font.generateShapes(message8, 20)
                    var geometry8 = new THREE.ShapeBufferGeometry(shapes8)
                    geometry8.computeBoundingBox()
                    xMid = -0.514 * (geometry8.boundingBox.max.x - geometry8.boundingBox.min.x)
                    geometry8.translate(xMid, 0, 0)
                    text8 = new THREE.Mesh(geometry8, matDark)
                    scene.add(text8)
                    text8.position.set(0, -140, 0)
                    text8.visible = false
                    document.getElementById("plant-table").addEventListener("click", function() {
                        text8.visible = !text8.visible
                    })
                }) //end load function

                // controls = new THREE.TrackballControls(camera, renderer.domElement)
                // controls.rotateSpeed = 4
                controls = new THREE.OrbitControls(camera, renderer.domElement)
                controls.autoRotate = true
                controls.autoRotateSpeed = -0.2

                window.addEventListener("resize", onWindowResize, false)
            } // end init

            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight
                camera.updateProjectionMatrix()
                renderer.setSize(window.innerWidth, window.innerHeight)
            }

            function animate() {
                requestAnimationFrame(animate)
                controls.update()
                renderer.render(scene, camera)
            }
        </script>
    </body>
</html>
